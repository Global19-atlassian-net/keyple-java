<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3870px" preserveAspectRatio="none" style="width:2040px;height:3870px;" version="1.1" viewBox="0 0 2040 3870" width="2040px" zoomAndPan="magnify"><defs><filter height="1" id="b7xivoza5qamr0" width="1" x="0" y="0"><feFlood flood-color="#ADD8E6" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacingAndGlyphs" textLength="515" x="758.75" y="71.7139">Keyple Plugin Remote SE</text><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacingAndGlyphs" textLength="587.5" x="722.5" y="128.3154">Async Node API (10/06/2020)</text><rect fill="#ADD8E6" height="166.7578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="182.5" y="426.25"/><rect fill="#ADD8E6" height="330.1367" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="182.5" y="961.5234"/><rect fill="#ADD8E6" height="35" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="182.5" y="2902.7539"/><rect fill="#ADD8E6" height="199.2578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="182.5" y="2992.7539"/><rect fill="#ADD8E6" height="22.5" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="182.5" y="3560.5273"/><rect fill="#FFC0CB" height="110.8789" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="617.5" y="482.1289"/><rect fill="#FFC0CB" height="622.7734" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="617.5" y="668.8867"/><rect fill="#FFFFE0" height="219.2578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="630" y="1037.4023"/><rect fill="#FFC0CB" height="514.5313" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="617.5" y="2423.2227"/><rect fill="#FFC0CB" height="110.8789" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="617.5" y="3081.1328"/><rect fill="#FFC0CB" height="292.6367" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="617.5" y="3267.8906"/><rect fill="#FFC0CB" height="75.8789" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1225" y="593.0078"/><rect fill="#FFC0CB" height="1131.5625" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1225" y="1291.6602"/><rect fill="#FFFFE0" height="219.2578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1237.5" y="2168.9648"/><rect fill="#FFC0CB" height="75.8789" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1225" y="3192.0117"/><rect fill="#ADD8E6" height="330.1367" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1825" y="2093.0859"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 5.0,5.0;" x1="195" x2="195" y1="401.25" y2="3605.5273"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 5.0,5.0;" x1="630" x2="630" y1="401.25" y2="3605.5273"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 5.0,5.0;" x1="1236.25" x2="1236.25" y1="401.25" y2="3605.5273"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 5.0,5.0;" x1="1837.5" x2="1837.5" y1="401.25" y2="3605.5273"/><rect fill="#ADD8E6" height="123.0469" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 3.75;" width="350" x="20" y="275.7031"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacingAndGlyphs" textLength="175" x="107.5" y="329.5361">clientNode:</text><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="315" x="37.5" y="373.5596">KeypleAsyncNode</text><rect fill="#ADD8E6" height="123.0469" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 3.75;" width="350" x="20" y="3603.0273"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacingAndGlyphs" textLength="175" x="107.5" y="3656.8604">clientNode:</text><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="315" x="37.5" y="3700.8838">KeypleAsyncNode</text><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacingAndGlyphs" textLength="310" x="467.5" y="349.5361">userClientEndpoint:</text><text fill="#000000" filter="url(#b7xivoza5qamr0)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="325" x="460" y="393.5596">KeypleClientAsync</text><ellipse cx="630" cy="180.7031" fill="#FEFECE" rx="20" ry="20" style="stroke: #A80036; stroke-width: 5.0;"/><path d="M630,200.7031 L630,268.2031 M597.5,220.7031 L662.5,220.7031 M630,268.2031 L597.5,305.7031 M630,268.2031 L662.5,305.7031 " fill="none" style="stroke: #A80036; stroke-width: 5.0;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacingAndGlyphs" textLength="310" x="467.5" y="3639.3604">userClientEndpoint:</text><text fill="#000000" filter="url(#b7xivoza5qamr0)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="325" x="460" y="3683.3838">KeypleClientAsync</text><ellipse cx="630" cy="3716.0742" fill="#FEFECE" rx="20" ry="20" style="stroke: #A80036; stroke-width: 5.0;"/><path d="M630,3736.0742 L630,3803.5742 M597.5,3756.0742 L662.5,3756.0742 M630,3803.5742 L597.5,3841.0742 M630,3803.5742 L662.5,3841.0742 " fill="none" style="stroke: #A80036; stroke-width: 5.0;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacingAndGlyphs" textLength="325" x="1067.5" y="349.5361">userServerEndpoint:</text><text fill="#000000" filter="url(#b7xivoza5qamr0)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="342.5" x="1058.75" y="393.5596">KeypleServerAsync</text><ellipse cx="1237.5" cy="180.7031" fill="#FEFECE" rx="20" ry="20" style="stroke: #A80036; stroke-width: 5.0;"/><path d="M1237.5,200.7031 L1237.5,268.2031 M1205,220.7031 L1270,220.7031 M1237.5,268.2031 L1205,305.7031 M1237.5,268.2031 L1270,305.7031 " fill="none" style="stroke: #A80036; stroke-width: 5.0;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacingAndGlyphs" textLength="325" x="1067.5" y="3639.3604">userServerEndpoint:</text><text fill="#000000" filter="url(#b7xivoza5qamr0)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="342.5" x="1058.75" y="3683.3838">KeypleServerAsync</text><ellipse cx="1237.5" cy="3716.0742" fill="#FEFECE" rx="20" ry="20" style="stroke: #A80036; stroke-width: 5.0;"/><path d="M1237.5,3736.0742 L1237.5,3803.5742 M1205,3756.0742 L1270,3756.0742 M1237.5,3803.5742 L1205,3841.0742 M1237.5,3803.5742 L1270,3841.0742 " fill="none" style="stroke: #A80036; stroke-width: 5.0;"/><rect fill="#ADD8E6" height="123.0469" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 3.75;" width="350" x="1662.5" y="275.7031"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacingAndGlyphs" textLength="192.5" x="1741.25" y="329.5361">serverNode:</text><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="315" x="1680" y="373.5596">KeypleAsyncNode</text><rect fill="#ADD8E6" height="123.0469" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 3.75;" width="350" x="1662.5" y="3603.0273"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacingAndGlyphs" textLength="192.5" x="1741.25" y="3656.8604">serverNode:</text><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="315" x="1680" y="3700.8838">KeypleAsyncNode</text><rect fill="#ADD8E6" height="166.7578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="182.5" y="426.25"/><rect fill="#ADD8E6" height="330.1367" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="182.5" y="961.5234"/><rect fill="#ADD8E6" height="35" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="182.5" y="2902.7539"/><rect fill="#ADD8E6" height="199.2578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="182.5" y="2992.7539"/><rect fill="#ADD8E6" height="22.5" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="182.5" y="3560.5273"/><rect fill="#FFC0CB" height="110.8789" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="617.5" y="482.1289"/><rect fill="#FFC0CB" height="622.7734" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="617.5" y="668.8867"/><rect fill="#FFFFE0" height="219.2578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="630" y="1037.4023"/><rect fill="#FFC0CB" height="514.5313" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="617.5" y="2423.2227"/><rect fill="#FFC0CB" height="110.8789" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="617.5" y="3081.1328"/><rect fill="#FFC0CB" height="292.6367" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="617.5" y="3267.8906"/><rect fill="#FFC0CB" height="75.8789" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1225" y="593.0078"/><rect fill="#FFC0CB" height="1131.5625" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1225" y="1291.6602"/><rect fill="#FFFFE0" height="219.2578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1237.5" y="2168.9648"/><rect fill="#FFC0CB" height="75.8789" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1225" y="3192.0117"/><rect fill="#ADD8E6" height="330.1367" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1825" y="2093.0859"/><polygon fill="#A80036" points="587.5,472.1289,612.5,482.1289,587.5,492.1289,597.5,482.1289" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="207.5" x2="602.5" y1="482.1289" y2="482.1289"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="207.5" x="225" y="469.9878">openSession (</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="137.5" x="432.5" y="469.9878">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="570" y="469.9878">)</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="1232.5" x2="1207.5" y1="558.0078" y2="548.0078"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1232.5" x2="1207.5" y1="558.0078" y2="568.0078"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="642.5" x2="1235" y1="558.0078" y2="558.0078"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="450" x="660" y="545.8667">send asynchronous handshake</text><polygon fill="#A80036" points="222.5,583.0078,197.5,593.0078,222.5,603.0078,212.5,593.0078" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="207.5" x2="627.5" y1="593.0078" y2="593.0078"/><polygon fill="#A80036" points="670,658.8867,645,668.8867,670,678.8867,660,668.8867" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="655" x2="1235" y1="668.8867" y2="668.8867"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="117.5" x="685" y="656.7456">Session</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="642.5" x2="747.5" y1="744.7656" y2="744.7656"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="747.5" x2="747.5" y1="744.7656" y2="777.2656"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="645" x2="747.5" y1="777.2656" y2="777.2656"/><polygon fill="#A80036" points="670,767.2656,645,777.2656,670,787.2656,660,777.2656" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="245" x="660" y="732.6245">registerSession (</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="137.5" x="905" y="732.6245">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="147.5" x="1042.5" y="732.6245">, Session)</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="642.5" x2="747.5" y1="853.1445" y2="853.1445"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="747.5" x2="747.5" y1="853.1445" y2="885.6445"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="645" x2="747.5" y1="885.6445" y2="885.6445"/><polygon fill="#A80036" points="670,875.6445,645,885.6445,670,895.6445,660,885.6445" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="450" x="660" y="841.0034">[...]ClientUtils.getAsyncNode ()</text><polygon fill="#A80036" points="235,951.5234,210,961.5234,235,971.5234,225,961.5234" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="220" x2="615" y1="961.5234" y2="961.5234"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="132.5" x="250" y="949.3823">onOpen (</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="137.5" x="382.5" y="949.3823">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="520" y="949.3823">)</text><polygon fill="#A80036" points="600,1027.4023,625,1037.4023,600,1047.4023,610,1037.4023" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="207.5" x2="615" y1="1037.4023" y2="1037.4023"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="222.5" x="225" y="1025.2612">sendMessage (</text><text fill="#FF0000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="447.5" y="1025.2612">dtoA</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="515" y="1025.2612">)</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="655" x2="760" y1="1113.2813" y2="1113.2813"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="760" x2="760" y1="1113.2813" y2="1145.7813"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="657.5" x2="760" y1="1145.7813" y2="1145.7813"/><polygon fill="#A80036" points="682.5,1135.7813,657.5,1145.7813,682.5,1155.7813,672.5,1145.7813" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="205" x="672.5" y="1101.1401">findSesssion (</text><text fill="#FF0000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="877.5" y="1101.1401">dtoA</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="217.5" x="945" y="1101.1401">.getSessionId()</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="1162.5" y="1101.1401">)</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="1232.5" x2="1207.5" y1="1221.6602" y2="1211.6602"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1232.5" x2="1207.5" y1="1221.6602" y2="1231.6602"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="655" x2="1235" y1="1221.6602" y2="1221.6602"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="445" x="672.5" y="1209.519">send asynchronous message (</text><text fill="#FF0000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="1117.5" y="1209.519">dtoA</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="1185" y="1209.519">)</text><polygon fill="#A80036" points="235,1246.6602,210,1256.6602,235,1266.6602,225,1256.6602" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="220" x2="615" y1="1256.6602" y2="1256.6602"/><polygon fill="#A80036" points="600,1281.6602,625,1291.6602,600,1301.6602,610,1291.6602" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="195" x2="615" y1="1291.6602" y2="1291.6602"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1250" x2="1355" y1="1367.5391" y2="1367.5391"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1355" x2="1355" y1="1367.5391" y2="1400.0391"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1252.5" x2="1355" y1="1400.0391" y2="1400.0391"/><polygon fill="#A80036" points="1277.5,1390.0391,1252.5,1400.0391,1277.5,1410.0391,1267.5,1400.0391" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="245" x="1267.5" y="1355.3979">registerSession (</text><text fill="#FF0000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="1512.5" y="1355.3979">dtoA</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="217.5" x="1580" y="1355.3979">.getSessionId()</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="1797.5" y="1355.3979">)</text><path d="M902.5,1445.0391 L902.5,1607.5391 A12.5,12.5 0 0 0 915,1620.0391 L1557.5,1620.0391 A12.5,12.5 0 0 0 1570,1607.5391 L1570,1457.5391 L1545,1432.5391 L915,1432.5391 A12.5,12.5 0 0 0 902.5,1445.0391 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.5;"/><path d="M1545,1432.5391 L1545,1451.2891 A6.25,6.25 0 0 0 1551.25,1457.5391 L1570,1457.5391 L1545,1432.5391 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="505" x="917.5" y="1478.7769">It is necessary to identify the client</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="115" x="917.5" y="1519.6558">via the "</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="137.5" x="1032.5" y="1519.6558">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="245" x="1170" y="1519.6558">" field in the DTO</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="615" x="917.5" y="1560.5347">in order to be able to reply a new message</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="210" x="917.5" y="1601.4136">at a later date.</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="1250" x2="1355" y1="1689.4336" y2="1689.4336"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1355" x2="1355" y1="1689.4336" y2="1721.9336"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1252.5" x2="1355" y1="1721.9336" y2="1721.9336"/><polygon fill="#A80036" points="1277.5,1711.9336,1252.5,1721.9336,1277.5,1731.9336,1267.5,1721.9336" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="457.5" x="1267.5" y="1677.2925">[...]ServerUtils.getAsyncNode ()</text><path d="M945,1766.9336 L945,2011.9336 A12.5,12.5 0 0 0 957.5,2024.4336 L1517.5,2024.4336 A12.5,12.5 0 0 0 1530,2011.9336 L1530,1779.4336 L1505,1754.4336 L957.5,1754.4336 A12.5,12.5 0 0 0 945,1766.9336 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.5;"/><path d="M1505,1754.4336 L1505,1773.1836 A6.25,6.25 0 0 0 1511.25,1779.4336 L1530,1779.4336 L1505,1754.4336 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="507.5" x="960" y="1800.6714">To access the node it is necessary</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="532.5" x="960" y="1841.5503">to use the utility class corresponding</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="390" x="960" y="1882.4292">to the server configuration :</text><ellipse cx="973.75" cy="1911.6992" fill="#000000" rx="6.25" ry="6.25" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="992.5" y="1923.3081">RemoteSe</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="155" x="1157.5" y="1923.3081">ServerUtils</text><ellipse cx="973.75" cy="1952.5781" fill="#000000" rx="6.25" ry="6.25" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142.5" x="992.5" y="1964.187">NativeSe</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="155" x="1135" y="1964.187">ServerUtils</text><ellipse cx="973.75" cy="1993.457" fill="#000000" rx="6.25" ry="6.25" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="215" x="992.5" y="2005.0659">NativeSePool</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="155" x="1207.5" y="2005.0659">ServerUtils</text><polygon fill="#A80036" points="1795,2083.0859,1820,2093.0859,1795,2103.0859,1805,2093.0859" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1250" x2="1810" y1="2093.0859" y2="2093.0859"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="187.5" x="1267.5" y="2080.9448">onMessage (</text><text fill="#FF0000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="1455" y="2080.9448">dtoA</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="1522.5" y="2080.9448">)</text><polygon fill="#A80036" points="1290,2158.9648,1265,2168.9648,1290,2178.9648,1280,2168.9648" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1275" x2="1822.5" y1="2168.9648" y2="2168.9648"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="222.5" x="1305" y="2156.8237">sendMessage (</text><text fill="#0000FF" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="1527.5" y="2156.8237">dtoB</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="1595" y="2156.8237">)</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="1262.5" x2="1367.5" y1="2244.8438" y2="2244.8438"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1367.5" x2="1367.5" y1="2244.8438" y2="2277.3438"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1265" x2="1367.5" y1="2277.3438" y2="2277.3438"/><polygon fill="#A80036" points="1290,2267.3438,1265,2277.3438,1290,2287.3438,1280,2277.3438" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="187.5" x="1280" y="2232.7026">findSession (</text><text fill="#0000FF" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="1467.5" y="2232.7026">dtoB</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="217.5" x="1535" y="2232.7026">.getSessionId()</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="1752.5" y="2232.7026">)</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="630" x2="655" y1="2353.2227" y2="2343.2227"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="630" x2="655" y1="2353.2227" y2="2363.2227"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="630" x2="1235" y1="2353.2227" y2="2353.2227"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="445" x="672.5" y="2341.0815">send asynchronous message (</text><text fill="#0000FF" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="1117.5" y="2341.0815">dtoB</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="1185" y="2341.0815">)</text><polygon fill="#A80036" points="1795,2378.2227,1820,2388.2227,1795,2398.2227,1805,2388.2227" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="1250" x2="1810" y1="2388.2227" y2="2388.2227"/><polygon fill="#A80036" points="1265,2413.2227,1240,2423.2227,1265,2433.2227,1255,2423.2227" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="1250" x2="1835" y1="2423.2227" y2="2423.2227"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="642.5" x2="747.5" y1="2499.1016" y2="2499.1016"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="747.5" x2="747.5" y1="2499.1016" y2="2531.6016"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="645" x2="747.5" y1="2531.6016" y2="2531.6016"/><polygon fill="#A80036" points="670,2521.6016,645,2531.6016,670,2541.6016,660,2531.6016" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="450" x="660" y="2486.9604">[...]ClientUtils.getAsyncNode ()</text><path d="M337.5,2576.6016 L337.5,2821.6016 A12.5,12.5 0 0 0 350,2834.1016 L910,2834.1016 A12.5,12.5 0 0 0 922.5,2821.6016 L922.5,2589.1016 L897.5,2564.1016 L350,2564.1016 A12.5,12.5 0 0 0 337.5,2576.6016 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.5;"/><path d="M897.5,2564.1016 L897.5,2582.8516 A6.25,6.25 0 0 0 903.75,2589.1016 L922.5,2589.1016 L897.5,2564.1016 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="505" x="352.5" y="2610.3394">To retrieve the node it is necessary</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="532.5" x="352.5" y="2651.2183">to use the utility class corresponding</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="382.5" x="352.5" y="2692.0972">to the client configuration :</text><ellipse cx="366.25" cy="2721.3672" fill="#000000" rx="6.25" ry="6.25" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142.5" x="385" y="2732.9761">NativeSe</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="147.5" x="527.5" y="2732.9761">ClientUtils</text><ellipse cx="366.25" cy="2762.2461" fill="#000000" rx="6.25" ry="6.25" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="385" y="2773.855">RemoteSe</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="147.5" x="550" y="2773.855">ClientUtils</text><ellipse cx="366.25" cy="2803.125" fill="#000000" rx="6.25" ry="6.25" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="237.5" x="385" y="2814.7339">RemoteSePool</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="147.5" x="622.5" y="2814.7339">ClientUtils</text><polygon fill="#A80036" points="235,2892.7539,210,2902.7539,235,2912.7539,225,2902.7539" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="220" x2="615" y1="2902.7539" y2="2902.7539"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="187.5" x="250" y="2890.6128">onMessage (</text><text fill="#0000FF" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="437.5" y="2890.6128">dtoB</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="505" y="2890.6128">)</text><polygon fill="#A80036" points="600,2927.7539,625,2937.7539,600,2947.7539,610,2937.7539" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="195" x2="615" y1="2937.7539" y2="2937.7539"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="195" x2="312.5" y1="2960.2539" y2="2960.2539"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="312.5" x2="312.5" y1="2960.2539" y2="2992.7539"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="210" x2="312.5" y1="2992.7539" y2="2992.7539"/><polygon fill="#A80036" points="235,2982.7539,210,2992.7539,235,3002.7539,225,2992.7539" style="stroke: #A80036; stroke-width: 2.5;"/><polygon fill="#A80036" points="587.5,3071.1328,612.5,3081.1328,587.5,3091.1328,597.5,3081.1328" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="207.5" x2="602.5" y1="3081.1328" y2="3081.1328"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="215" x="225" y="3068.9917">closeSession (</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="137.5" x="440" y="3068.9917">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="577.5" y="3068.9917">)</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="1232.5" x2="1207.5" y1="3157.0117" y2="3147.0117"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1232.5" x2="1207.5" y1="3157.0117" y2="3167.0117"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="642.5" x2="1235" y1="3157.0117" y2="3157.0117"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="487.5" x="660" y="3144.8706">send asynchronous closeSession</text><polygon fill="#A80036" points="222.5,3182.0117,197.5,3192.0117,222.5,3202.0117,212.5,3192.0117" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="207.5" x2="627.5" y1="3192.0117" y2="3192.0117"/><polygon fill="#A80036" points="670,3257.8906,645,3267.8906,670,3277.8906,660,3267.8906" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="655" x2="1235" y1="3267.8906" y2="3267.8906"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="35" x="685" y="3255.7495">ok</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="642.5" x2="747.5" y1="3343.7695" y2="3343.7695"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="747.5" x2="747.5" y1="3343.7695" y2="3376.2695"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="645" x2="747.5" y1="3376.2695" y2="3376.2695"/><polygon fill="#A80036" points="670,3366.2695,645,3376.2695,670,3386.2695,660,3376.2695" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="407.5" x="660" y="3331.6284">unregisterSession (Session)</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="642.5" x2="747.5" y1="3452.1484" y2="3452.1484"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="747.5" x2="747.5" y1="3452.1484" y2="3484.6484"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="645" x2="747.5" y1="3484.6484" y2="3484.6484"/><polygon fill="#A80036" points="670,3474.6484,645,3484.6484,670,3494.6484,660,3484.6484" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="450" x="660" y="3440.0073">[...]ClientUtils.getAsyncNode ()</text><polygon fill="#A80036" points="235,3550.5273,210,3560.5273,235,3570.5273,225,3560.5273" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="220" x2="627.5" y1="3560.5273" y2="3560.5273"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="137.5" x="250" y="3548.3862">onClose (</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="137.5" x="387.5" y="3548.3862">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="525" y="3548.3862">)</text><!--MD5=[52fa3ec85e591db56830647f31cd4323]
@startuml

title
    Keyple Plugin Remote SE
    Async Node API (10/06/2020)
end title


skinparam Shadowing false
skinparam RoundCorner 10


participant "clientNode:\n**KeypleAsyncNode**" as clientNode #LightBlue
actor "userClientEndpoint:\n**<back:LightBlue>KeypleClientAsync**" as userClientEndpoint

actor "userServerEndpoint:\n**<back:LightBlue>KeypleServerAsync**" as userServerEndpoint
participant "serverNode:\n**KeypleAsyncNode**" as serverNode #LightBlue

activate clientNode #LightBlue
clientNode -> userClientEndpoint : openSession (<color:green>sessionId</color>)
activate userClientEndpoint #Pink
userClientEndpoint ->> userServerEndpoint : send asynchronous handshake
return
deactivate clientNode

activate userServerEndpoint #Pink
userServerEndpoint - -> userClientEndpoint : Session
deactivate userServerEndpoint
activate userClientEndpoint #Pink
userClientEndpoint -> userClientEndpoint : registerSession (<color:green>sessionId</color>, Session)
userClientEndpoint -> userClientEndpoint : [...]ClientUtils.getAsyncNode ()
userClientEndpoint -> clientNode : onOpen (<color:green>sessionId</color>)
activate clientNode #LightBlue
clientNode -> userClientEndpoint : sendMessage (<color:red>dtoA</color>)
activate userClientEndpoint #LightYellow
userClientEndpoint -> userClientEndpoint : findSesssion (<color:red>dtoA</color><color:green>.getSessionId()</color>)
userClientEndpoint ->> userServerEndpoint : send asynchronous message (<color:red>dtoA</color>)
return
return
deactivate userClientEndpoint

activate userServerEndpoint #Pink
userServerEndpoint -> userServerEndpoint : registerSession (<color:red>dtoA</color><color:green>.getSessionId()</color>)
note over userServerEndpoint
    It is necessary to identify the client
    via the "<color:green>sessionId</color>" field in the DTO
    in order to be able to reply a new message
    at a later date.
end note
userServerEndpoint -> userServerEndpoint : [...]ServerUtils.getAsyncNode ()
note over userServerEndpoint
    To access the node it is necessary
    to use the utility class corresponding
    to the server configuration :
    * **RemoteSe**ServerUtils
    * **NativeSe**ServerUtils
    * **NativeSePool**ServerUtils
end note
userServerEndpoint -> serverNode : onMessage (<color:red>dtoA</color>)
activate serverNode #LightBlue
serverNode -> userServerEndpoint : sendMessage (<color:blue>dtoB</color>)
activate userServerEndpoint #LightYellow
userServerEndpoint -> userServerEndpoint : findSession (<color:blue>dtoB</color><color:green>.getSessionId()</color>)
userServerEndpoint ->> userClientEndpoint : send asynchronous message (<color:blue>dtoB</color>)
return
return
deactivate userServerEndpoint

activate userClientEndpoint #Pink
userClientEndpoint -> userClientEndpoint : [...]ClientUtils.getAsyncNode ()
note over userClientEndpoint
    To retrieve the node it is necessary
    to use the utility class corresponding
    to the client configuration :
    * **NativeSe**ClientUtils
    * **RemoteSe**ClientUtils
    * **RemoteSePool**ClientUtils
end note
userClientEndpoint -> clientNode : onMessage (<color:blue>dtoB</color>)
activate clientNode #LightBlue
return
deactivate userClientEndpoint

clientNode -> clientNode
activate clientNode #LightBlue

clientNode -> userClientEndpoint : closeSession (<color:green>sessionId</color>)
activate userClientEndpoint #Pink
userClientEndpoint ->> userServerEndpoint : send asynchronous closeSession
return
deactivate clientNode

activate userServerEndpoint #Pink
userServerEndpoint - -> userClientEndpoint : ok
deactivate userServerEndpoint
activate userClientEndpoint #Pink
userClientEndpoint -> userClientEndpoint : unregisterSession (Session)
userClientEndpoint -> userClientEndpoint : [...]ClientUtils.getAsyncNode ()
userClientEndpoint -> clientNode : onClose (<color:green>sessionId</color>)
deactivate userClientEndpoint
activate clientNode #LightBlue

@enduml

PlantUML version 1.2020.09(Sun May 10 12:51:06 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.53
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>